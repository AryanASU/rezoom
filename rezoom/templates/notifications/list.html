{% extends "base.html" %}
{% block title %}Notifications Â· Rezoom{% endblock %}
{% block content %}
<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h5">Notifications</h1>
    <a class="btn btn-light" href="{% url 'notifications_read_all' %}">Mark all read</a>
  </div>
  <div class="vstack gap-2">
    {% for n in items %}
      <a class="glass p-3 text-decoration-none d-block" href="{% url 'notifications_read' n.id %}">
        <div class="d-flex justify-content-between">
          <div>
            <div class="fw-semibold">{{ n.title }}</div>
            {% if n.message %}<div class="text-muted small mt-1">{{ n.message }}</div>{% endif %}
            {% if n.url %}<div class="small mt-1">{{ n.url }}</div>{% endif %}
          </div>
          {% if not n.is_read %}<span class="badge bg-primary-subtle text-primary">New</span>{% endif %}
        </div>
        <div class="text-muted small mt-1">{{ n.created_at|date:"M j, Y g:i a" }}</div>
      </a>
    {% empty %}
      <div class="glass p-4 text-muted">No notifications yet.</div>
    {% endfor %}
  </div>
</div>
{% endblock %}
